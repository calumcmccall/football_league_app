{% extends 'base.html' %}
{% block content %}

    <h1 class="under-nav" >{{ league.league_name }}</h1>

    <div class="league-show">

        <h2>Clubs</h2>
        <ul class="league-clubs">
            {% for team in teams %}

                {% if team.team_name == league.team_type %}
                    <li class="league-club">
                        <a href="/clubs/{{ team.club.id }}">{{ team.club.club_name }}</a>
                    </li>
                {% endif %}

            {% endfor %}
        </ul>

        <form action="/teams/new/{{ league.id }}">
            <input type="submit" value="Add a club to this league" class="button-style">
        </form>

        <table class="league-fixtures">
            <h2>Fixtures</h2>

            <tr class="table-top">
                <th>Home Team</th>
                <th>Score</th>
                <th>Away Team</th>
            </tr>
            {% for match in matches %}
                <tr class="matches">
                    <td>
                        {{
                            match.home_team.team_id.club.club_name
                        }}
                    </td>
                    <td> {{ match.home_team_score}} - {{ match.away_team_score }}  </td>
                    <td>
                        {{
                            match.away_team.team_id.club.club_name
                        }}
                    </td>
                </tr>
            {% endfor %}
        </table>

        <form action="/matches/new/{{ league.id }}">
            <input type="submit" value="Create new match" class="button-style">
        </form>

        <table>
            <h2 class="table-top">League Table</h2>
            <tr>
                <th>Position</th>
                <th>Club</th>
                <th>Played</th>
                <th>Won</th>
                <th>Drawn</th>
                <th>Lost</th>
                <th>GF</th>
                <th>GA</th>
                <th>GD</th>
                <th>Points</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Aberdeen</td>
                <th>5</th>
                <th>3</th>
                <th>0</th>
                <th>2</th>
                <th>8</th>
                <th>9</th>
                <th>-1</th>
                <th>9</th>
            </tr>
            {% for club in league_table %}
                
            {% endfor %}
        </table>

    </div>

{% endblock content %}